#!/usr/bin/env ruby

# board
class TicTac
  def initialize; end
  def is_numeric?(obj) 
    obj.to_s.match(/\A[+-]?\d+?(\.\d+)?\Z/) == nil ? false : true
  end

  def displayboard
    puts '+---+---+---+'
    puts '| 1 | 2 | 3 |'
    puts '+---+---+---+'
    puts '| 4 | 5 | 6 |'
    puts '+---+---+---+'
    puts '| 7 | 8 | 9 |'
    puts '+---+---+---+'
  end
end
Tic = TicTac.new
puts 'Welcome to Ruby"s Tic Tac Toe'
puts 'Enter first player name:'
name1 = gets.chomp
while (true) do
    if name1 == ""
       puts "empty string please input valid name"
    elsif Tic.is_numeric? name1
       puts "name can not be integer please input valid name"
    else
        break
    end
    name1 = gets.chomp
end

puts 'Enter second player name:'
name2 = gets.chomp


while (true) do
    if name2 == ""
       puts "empty string please input valid name"
    elsif Tic.is_numeric? name2
       puts "name can not be integer please input valid name"
    else
        break
    end
    name2 = gets.chomp
end

puts "#{name1} will play with  X and #{name2} will play with  O"
sleep(1)
puts "\n Lets Start.."
sleep(1)
x=0
num_turn = 0
while(true) do
  puts `clear`
  Tic.displayboard
  puts "\n"
  if(x==0)
    puts "Its #{name1} turn!"
    puts "\n"
    puts 'Please select the available cell from the board'
    cell_num = gets.chomp.to_i
    puts cell_num
    while(true) do
      if cell_num >= 1 && cell_num <= 9
         break
      else
         puts 'invalid move'
         puts 'Please enter a valid number from 1 - 9!'
         cell_num = gets.chomp.to_i
      end
    end
    x=1

  else
    puts "Its #{name2} turn!"
    puts "\n"
    puts 'Please select the available cell from the board'
    cell_num=gets.chomp.to_i
    while(true) do 
      if (cell_num >= 1 && cell_num <= 9)
         break
      else
         puts 'invalid move'
         puts 'Please enter a valid number from 1 - 9!'
         cell_num = gets.chomp.to_i
      end
    end
    x=0
  end
  if num_turn == 9
    puts "The game is draw"
    return 
  end
  num_turn +=1
end

# def full?(board)
#   board.all?{|i| i == "x" || i == "0"}
# end

# def draw?(board)
#   if !won?(board) && full?(board)
#     return true
#   elsif !won (board) && !full?(board)
#     return false
#   else won?(board)
#     return false
#   end
# end